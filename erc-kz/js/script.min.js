const body=document.querySelector(".body"),mainPage=document.querySelector(".main-page"),rules=document.querySelector(".rules"),comission=document.querySelector(".comission"),prices=document.querySelector(".prices"),providers=document.querySelector(".providers"),header=document.querySelector(".header"),searchButton=document.querySelector(".header__search"),searchBox=document.querySelector(".header__searchbox"),menuButton=document.querySelector(".menu-icon"),mobileMenu=document.querySelector(".header__menu"),fixedBlock=document.querySelector(".rules__nav ul"),rulesNav=document.querySelector(".rules__nav"),mainBlock=document.querySelector(".rules__description");container=document.querySelector(".container");let isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}},scrollpos=window.scrollY;menuButton.addEventListener("click",(function(){this.classList.toggle("active"),mobileMenu.classList.toggle("active"),body.classList.toggle("locked")}));let offsetLeft=container.offsetLeft+30,scrollDistance=window.scrollY;if(window.addEventListener("resize",(function(){offsetLeft=container.offsetLeft+30})),isMobile.any()){body.classList.add("touch");let e=document.querySelectorAll(".arrow");for(i=0;i<e.length;i++){let t=e[i].previousElementSibling,o=e[i].nextElementSibling,s=e[i];t.classList.add("parent"),e[i].addEventListener("click",(function(){o.classList.toggle("open"),s.classList.toggle("active")}))}}else body.classList.add("mouse");if(mainPage){new Swiper(".benefits__mobile",{direction:"horizontal",loop:!0,pagination:{el:".swiper-pagination"}});const e=document.querySelector(".steps__banks");let t=e.offsetHeight;e.style.bottom=`-${t}px`}if(rules){const e=rulesNav.offsetTop,t=document.querySelector(".rules__show-naw");let o=document.querySelectorAll(".rules__nav a");const s=()=>{let t=window.scrollY;t>e&&t<=mainBlock.offsetHeight-(fixedBlock.offsetHeight+30)?(fixedBlock.style.left=offsetLeft+"px",fixedBlock.classList.remove("absolute"),fixedBlock.classList.add("fixed")):(fixedBlock.style.left="0px",fixedBlock.classList.remove("fixed")),t>=e+mainBlock.offsetHeight-fixedBlock.offsetHeight&&(fixedBlock.classList.add("absolute"),fixedBlock.style.left="0px",fixedBlock.classList.remove("fixed"))},i=()=>{window.scrollY>=mainBlock.offsetHeight?t.classList.add("hidden"):t.classList.remove("hidden")},l=()=>{let e=window.scrollY;document.querySelectorAll(".rules__item").forEach((t,o)=>{t.offsetTop<=e&&(document.querySelectorAll(".rules__nav a").forEach(e=>{e.classList.contains("active")&&e.classList.remove("active")}),document.querySelectorAll(".rules__nav li")[o].querySelector("a").classList.add("active"))})};window.addEventListener("scroll",(function(){s(),i(),l()})),t.addEventListener("click",(function(){rulesNav.classList.toggle("visible"),header.classList.toggle("hide")})),o.forEach(e=>{e.addEventListener("click",(function(){rulesNav.classList.remove("visible"),header.classList.remove("hide")}))})}function add_class_on_scroll(){header.classList.add("scrollable")}function remove_class_on_scroll(){header.classList.remove("scrollable")}(providers||prices||comission)&&document.querySelectorAll(".sort").forEach(e=>{e.addEventListener("click",(function(){this.classList.toggle("rotated")}))}),document.addEventListener("click",(function(e){var t=(e=e||window.event).target||e.srcElement;if(t.hasAttribute("data-toggle")&&"modal"==t.getAttribute("data-toggle")&&t.hasAttribute("data-target")){var o=t.getAttribute("data-target");document.getElementById(o).classList.add("open"),e.preventDefault()}(t.hasAttribute("data-dismiss")&&"modal"==t.getAttribute("data-dismiss")||t.classList.contains("modal"))&&(document.querySelector('[class="modal open"]').classList.remove("open"),e.preventDefault())}),!1),window.addEventListener("scroll",(function(){scrollpos=window.scrollY,scrollpos>300?add_class_on_scroll():remove_class_on_scroll()}));